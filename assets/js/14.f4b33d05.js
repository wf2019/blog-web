(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{148:function(e,t,n){"use strict";n.r(t);var s=n(0),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"nginx项目配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx项目配置"}},[e._v("#")]),e._v(" nginx项目配置")]),e._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#https-easyswoole"}},[e._v("Https EasySwoole")])]),n("li",[n("a",{attrs:{href:"#vue转发"}},[e._v("vue转发")])])])]),n("p"),e._v(" "),n("h2",{attrs:{id:"https-easyswoole"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#https-easyswoole"}},[e._v("#")]),e._v(" Https EasySwoole")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('server {\n    listen       80;\n    server_name  zxzyw.net;\n    return 301 http://www.zxzyw.net$request_uri;\n}\nserver {\n    listen       80;\n    server_name  www.zxzyw.net;\n    rewrite ^(.*) https://$server_name$1 permanent;\n\n    location / {\n        root   /usr/share/nginx/html/zxzyw-php/Public;\n\n        proxy_http_version 1.1;\n        proxy_set_header Connection "keep-alive";\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header Host $http_host;\n        if (!-f $request_filename) {\n            proxy_pass http://php:9568;\n        }\n    }\n\n}\n\nserver {\n    listen       443 ssl;\n    server_name  www.zxzyw.net;\n    ssl_certificate  /etc/nginx/ssl/www.zxzyw.net.pem;\n    ssl_certificate_key  /etc/nginx/ssl/www.zxzyw.net.key;\n    ssl_session_timeout 5m;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    location / {\n        root    /usr/share/nginx/html/zxzyw-php/Public;\n        proxy_http_version 1.1;\n        proxy_set_header Connection "keep-alive";\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header Host $http_host;\n        if (!-f $request_filename) {\n            proxy_pass http://php:9568;\n        }\n    }\n}\n')])])]),n("h2",{attrs:{id:"vue转发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue转发"}},[e._v("#")]),e._v(" vue转发")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("server {\n    listen       80;\n    server_name  manage.zxzyw.net;\n\n    location / {\n        root   /usr/share/nginx/html/zxzyw-php/Manage;\n        index index.htm index.html;\n        try_files $uri $uri/ /index.html;\n    }\n\t# （部署时请删除这段注释）如果访问不到，尝试取消结尾的  /\n\t#  php接收IP，$_SERVER['HTTP_X_REAL_IP']\n    location /api/ {\n\t\tproxy_set_header X-Real-IP $remote_addr;\n\t\tproxy_set_header X-Real-Port $remote_port;\n\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\t\t\n        proxy_pass http://php:9568;\n    }\n}\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);